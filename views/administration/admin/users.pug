extends layout_admin

block content
    div#zone.section.full-section.container
        h2 Utilisateurs
            div.row.center-align
                div.col.s4.right
                    a(href="#modal-add-user").btn-floating.btn-large.waves-effect.waves-light.modal-trigger
                        i.material-icons add
        div.row
            table.centered.highlight.tab-scroll
                thead
                    tr
                        th ID
                        th USERNAME
                        th EMAIL
                        th ROLE
                        th ZONE
                        th MODIFIER
                        th SUPPRIMER
                tbody
                    each user in users
                        tr
                            td= user.id
                            td= user.username
                            td= user.email
                            td= user.role
                            td= user.zone
                            td
                                a.waves-effect.waves-light.btn.modal-trigger(href="#modal-edit-user", data-id=user.id, data-username=user.username)
                                    i.material-icons edit
                            td
                                button.waves-effect.waves-light.btn(onclick=`deleteUser(${user.id})`)
                                    i.material-icons delete

    //ADD MODAL
    div(id="modal-add-user").modal.modal-fixed-footer
        div.modal-content
            h4 Ajouter un utilisateur
            div.row
                form#add-user-form.col.s12
                    div.row
                        div.input-field.col.s12
                            input(id="user-add-username", name="user-add-username", type="text").validate
                            label(for="user-add-username") Username
                        div.input-field.col.s12
                            input(id="user-add-email", name="user-add-email", type="email").validate
                            label(for="user-add-email") Email
                        div.input-field.col.s6
                            input(id="user-add-password", name="user-add-password", type="password").validate
                            label(for="user-add-password") Mot de passe
                        div.input-field.col.s6
                            input(id="user-add-password2", name="user-add-password2", type="password").validate
                            label(for="user-add-password2") Confirmer le mot de passe
                        div.input-field.col.s12
                            select
                                option(value="", disabled="disabled", selected="selected") Choisir un rôle
                                option(value="1") Utilisateur 1
                                option(value="2") Utilisateur 2
                                option(value="3") Utilisateur 3
                            label Rôle
                        div.input-field.col.s12
                            select
                                option(value="", disabled="disabled", selected="selected") Choisir une zone
                                option(value="1") Utilisateur 1
                                option(value="2") Utilisateur 2
                                option(value="3") Utilisateur 3
                            label Zone
        div.modal-footer
            a(href="#!").modal-action.modal-close.waves-effect.waves-green.btn-flat.red-text annuler
            button(onclick="createUser()").btn.waves-effect.waves-light.modal-action valider
                i.material-icons.right send

    //MODIFY MODAL
    div(id="modal-edit-user").modal.modal-fixed-footer.modal-edit-user
        div.modal-content
            h4 Modifier
            div.row
                form#edit-user-form.col.s12
                    div.row
                        div.input-field.col.s12
                            input(id="user-edit-id", name="user-edit-id", type="text", disabled="disabled").validate
                            label(for="user-edit-id", id="users-edit-id-label", disabled="disabled") Id
                    div.row
                        div.input-field.col.s12
                            input(id="user-edit-name", name="user-edit-name", type="text").validate
                            label(for="user-edit-name", id="user-edit-name-label") Nom
        div.modal-footer
            a(href="#!").modal-action.modal-close.waves-effect.waves-green.btn-flat.red-text annuler
            button(onclick="updateUser()").btn.waves-effect.waves-light.modal-action.modal-close sauvegarder
                i.material-icons.right done
